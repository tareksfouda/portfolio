!function(t){function e(e){function i(e,i){t(e).removeClass("closed").addClass("open").animate({fontSize:o.fontOpen},o.baseSpeed),t(i).show(o.speed*o.baseSpeed)}function n(e,i){t(e).animate({fontSize:o.fontClosed},0).removeClass("open").addClass("closed"),t(i).hide(o.speed*o.baseSpeed)}var o={timelineContainer:e.timelineContainer||"#timelineContainer",startState:e.startState||"closed",startOpen:e.startOpen||[],baseSpeed:e.baseSpeed||200,speed:e.speed||4,fontOpen:e.fontOpen||"1.2em",fontClosed:e.fontClosed||"1em",expandAllText:e.expandAllText||"+ expand all",collapseAllText:e.collapseAllText||"- collapse all"};t(o.timelineContainer).data("started")||(t(o.timelineContainer).data("started",!0),t(o.timelineContainer+" .expandAll").html(o.expandAllText),t(o.timelineContainer+" .collapseAll").html(o.collapseAllText),"closed"===o.startState?(t(o.timelineContainer+" .timelineEvent").hide(),t.each(t(o.startOpen),function(e,n){i(t(n).parent(o.timelineContainer+" .timelineMinor").find("dt a"),t(n))})):i(t(o.timelineContainer+" .timelineMinor dt a"),t(o.timelineContainer+" .timelineEvent")),t(o.timelineContainer).on("click",".timelineMinor dt",function(){var e=t(this).attr("id");t(this).find("a").is(".open")?n(t("a",this),t("#"+e+"EX")):i(t("a",this),t("#"+e+"EX"))}),t(o.timelineContainer).on("click",".timelineMajorMarker",function(){var e=t(this).parents(".timelineMajor").find(".timelineMinor").length,o=t(this).parents(".timelineMajor").find(".open").length;e>o?i(t(this).parents(".timelineMajor").find("dt a","dl.timelineMinor"),t(this).parents(".timelineMajor").find(".timelineEvent")):n(t(this).parents(".timelineMajor").find("dl.timelineMinor a"),t(this).parents(".timelineMajor").find(".timelineEvent"))}),t(o.timelineContainer+" .expandAll").click(function(){t(this).hasClass("expanded")?(n(t(this).parents(o.timelineContainer).find("dt a","dl.timelineMinor"),t(this).parents(o.timelineContainer).find(".timelineEvent")),t(this).removeClass("expanded").html(o.expandAllText)):(i(t(this).parents(o.timelineContainer).find("dt a","dl.timelineMinor"),t(this).parents(o.timelineContainer).find(".timelineEvent")),t(this).addClass("expanded").html(o.collapseAllText))}))}t.timeliner=function(i){null==t.timeliners?(t.timeliners={options:[]},t.timeliners.options.push(i)):t.timeliners.options.push(i),t(document).ready(function(){for(var i=0;i<t.timeliners.options.length;i++)e(t.timeliners.options[i])})}}(jQuery);